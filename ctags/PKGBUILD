# Maintainer: Joï¿½o Guerra <joca.bt@gmail.com>

pkgname="ctags"
pkgver="6.2.1"
pkgrel=1
pkgdesc="Generate tag files for source code"
arch=("i686" "x86_64")
url="https://ctags.io/"
msys2_references=(
  "cpe: cpe:/a:exuberant_ctags_project:exuberant_ctags"
)
license=('spdx:GPL-2.0-or-later')
depends=('libiconv')
makedepends=('autotools' 'gcc' 'git' 'libiconv-devel')
source=("git+https://github.com/universal-ctags/ctags.git#tag=v$pkgver")
sha256sums=('5d5f2f091ee702c47f054d4e91aee86e34edf77d015e58b2000cfa717bdd66b9')

build () {
  cd "${pkgname}"
  ./autogen.sh
  ./configure --prefix=/usr \
              --enable-etags \
              --enable-macro-patterns \
              --with-readlib
  make
}

package () {
  cd "${pkgname}"
  make prefix="${pkgdir}/usr" install
  install -Dm0644 COPYING "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
