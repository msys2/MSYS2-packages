# This was copied from the arch linux PKGBUILD.
# GNU Enscript is more or less feature complete, so it's a drop in file.

pkgname=enscript
pkgver=1.6.6
pkgrel=6
pkgdesc="Convert ASCII files to PostScript suitable for printing"
arch=('x86_64')
url="https://git.savannah.gnu.org/cgit/enscript.git"
license=('sdpx:GPL-3.0-or-later')
depends=('perl' 'gcc-libs' 'cygutils') # Without lpr, it reports back an error. Maybe compile it out?
# In addition, the config file defaults to a physical printer with it allowed to set to STDOUT. Perhaps
# make this with the STDOUT setting by default?

makedepends=('autotools' 'gcc')
optdepends=()
source=(https://ftp.gnu.org/gnu/$pkgname/$pkgname-$pkgver.tar.gz)
sha256sums=('6d56bada6934d055b34b6c90399aa85975e66457ac5bf513427ae7fc77f5c0bb')

build() {
  cd $pkgname-$pkgver
  ./configure --prefix=/usr --sysconfdir=/etc/enscript
  make
}

# Is the check truly necessary? Last stable release was 2012.
check() {
  cd $pkgname-$pkgver
  make check
}

package() {
  cd $pkgname-$pkgver
  make DESTDIR="$pkgdir" install
}
